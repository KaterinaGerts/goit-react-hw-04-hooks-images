(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{11:function(e,t,a){e.exports={LoadButton:"Button_LoadButton__2-8fm",LoadButtonLabel:"Button_LoadButtonLabel__24cOg"}},13:function(e,t,a){e.exports={container:"Container_container__23kEK"}},14:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__fr4qu"}},15:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__b1NC3"}},17:function(e,t,a){e.exports={overlay:"Loader_overlay__2CsDf"}},18:function(e,t,a){e.exports={div:"App_div__1B_lO"}},45:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(4),r=a.n(o),i=a(12),s=a(3),l=a(7),u=(a(23),a(13)),d=a.n(u),j=a(1);var m=function(e){var t=e.children;return Object(j.jsx)("div",{className:d.a.container,children:t})},b=a(5),h=a.n(b),O=function(e){var t=e.onSubmit,a=Object(n.useState)(""),c=Object(s.a)(a,2),o=c[0],r=c[1];return Object(j.jsx)("div",{children:Object(j.jsx)("header",{className:h.a.Searchbar,children:Object(j.jsxs)("form",{className:h.a.SearchForm,onSubmit:function(e){e.preventDefault(),""!==o.trim()?(t(o),r("")):l.b.error("Oh no, you didn't write your request!")},children:[Object(j.jsx)("button",{type:"submit",className:h.a.SearchFormButton,children:Object(j.jsx)("span",{className:h.a.SearchFormButtonLabel,children:"Search"})}),Object(j.jsx)("input",{className:h.a.SearchFormInput,type:"text",name:"name",value:o,onChange:function(e){var t=e.currentTarget.value;r(t.toLowerCase())},autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})})},f=a(14),g=a.n(f);function v(e){var t=e.onClick,a=e.cards,n=a.webformatURL,c=a.tags;return Object(j.jsx)("li",{className:g.a.ImageGalleryItem,children:Object(j.jsx)("img",{src:n,alt:c,onClick:t,className:"ImageGalleryItem-image",width:"200",height:"150"})})}var x=a(11),p=a.n(x);function _(e){var t=e.onClick;return Object(j.jsx)("div",{children:Object(j.jsx)("button",{className:p.a.LoadButton,type:"button",onClick:t,children:Object(j.jsx)("span",{className:p.a.LoadButtonLabel,children:"Load more"})})})}var y=a(15),S=a.n(y);var I=function(e){var t=e.cards,a=e.onClick,n=e.onImageClick;return Object(j.jsxs)("div",{children:[Object(j.jsx)("ul",{className:S.a.ImageGallery,children:t.map((function(e){var t=e.id,a=e.webformatURL,c=e.tags,o=e.largeImageURL;return Object(j.jsx)(v,{cards:{id:t,webformatURL:a,tags:c},onClick:function(){return n(o)}},t)}))}),Object(j.jsx)(_,{onClick:a})]})};var C={fetchImages:function(e,t){return fetch("".concat("https://pixabay.com/api/","?image_type=photo&orientation=horizontal&q=").concat(e,"&page=").concat(t,"&per_page=").concat("12","&key=").concat("22269810-55457156398dac84727ab5964")).then((function(e){if(e.ok)return e.json()})).then((function(e){return e.hits}))}},L=a(16),w=a.n(L),k=a(17),N=a.n(k);function B(){return Object(j.jsxs)("div",{className:N.a.overlay,children:[Object(j.jsx)(w.a,{type:"MutatingDots",color:"#00BFFF",secondaryColor:"#8a008a",height:100,width:100,timeout:3e3}),Object(j.jsx)("div",{children:"Loading..."})]})}var F=a(9),G=a.n(F),E=document.querySelector("#modal-root");var q=function(e){var t=e.modalImage,a=e.onClose,c=function(e){"Escape"===e.code&&a()};return Object(n.useEffect)((function(){return window.addEventListener("keydown",c),function(){window.removeEventListener("keydown",c)}})),Object(o.createPortal)(Object(j.jsx)("div",{className:G.a.Overlay,onClick:function(e){e.currentTarget===e.target&&a()},children:Object(j.jsx)("div",{className:G.a.Modal,children:Object(j.jsx)("img",{className:G.a.modalImage,src:t,alt:"",width:"500"})})}),E)},M=a(18),U=a.n(M),D="idle",R="pending",J="resolved",P="rejected";var T=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)([]),r=Object(s.a)(o,2),u=r[0],d=r[1],b=Object(n.useState)(!1),h=Object(s.a)(b,2),f=h[0],g=h[1],v=Object(n.useState)(D),x=Object(s.a)(v,2),p=x[0],_=x[1],y=Object(n.useState)(1),S=Object(s.a)(y,2),L=S[0],w=S[1],k=Object(n.useState)(!1),N=Object(s.a)(k,2),F=N[0],G=N[1],E=Object(n.useState)(""),M=Object(s.a)(E,2),T=M[0],K=M[1];Object(n.useEffect)((function(){if(a){C.fetchImages(a,L).then((function(e){0===e.length?(_(D),l.b.info("Please, try again your request is not defind!")):d((function(t){return[].concat(Object(i.a)(t),Object(i.a)(e))}),_(J))})).catch((function(e){return g(e)}),_(P)).finally((function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})})),_(R)}}),[a,L]);var z=function(e){G((function(e){return!e})),K(e)};return Object(j.jsx)(m,{children:Object(j.jsxs)("div",{children:[Object(j.jsx)(O,{onSubmit:function(e){c(e),w(1),d([])}}),p===D&&Object(j.jsx)("div",{className:U.a.div,children:"Please, write a card name!"}),p===R&&Object(j.jsx)(B,{}),p===P&&Object(j.jsx)("h1",{children:f.message}),p===J&&Object(j.jsx)(I,{cards:u,onClick:function(){w((function(e){return e+1}))},onImageClick:z}),F&&Object(j.jsx)(q,{modalImage:T,onClose:z}),Object(j.jsx)(l.a,{autoClose:3e3})]})})};r.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(T,{})}),document.getElementById("root"))},5:function(e,t,a){e.exports={SearchFormButton:"Searchbar_SearchFormButton__3jZch",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__1Uys_",SearchFormInput:"Searchbar_SearchFormInput__1NoaW"}},9:function(e,t,a){e.exports={Overlay:"Modal_Overlay__2pKtC",modalImage:"Modal_modalImage__2xODJ"}}},[[45,1,2]]]);
//# sourceMappingURL=main.92f6039e.chunk.js.map